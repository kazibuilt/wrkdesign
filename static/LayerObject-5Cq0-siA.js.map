{"version":3,"file":"LayerObject-5Cq0-siA.js","sources":["../../src/components/molecules/LayerObject.vue"],"sourcesContent":["<script lang=\"ts\">\nimport MCmsImage from '@monogrid/vue-boost/cms/MCmsImage.vue'\nimport { computed, defineComponent, inject, PropType, ref } from 'vue'\n\nimport { lenisInjectionKey } from '@/App.vue'\nimport WebGLObject from '@/components/atoms/WebGLObject.vue'\nimport type { MediaFile } from '@/graphql'\n\nexport default defineComponent({\n  name: 'LayerObject',\n  components: {\n    MCmsImage,\n    WebGLObject\n  },\n  props: {\n    data: { type: Object as PropType<Pick<MediaFile, 'id'>>, required: true },\n    fallback: { type: Object as PropType<MediaFile>, required: true },\n    order: { type: Number, default: 2 },\n    wrap: { type: Boolean, default: false },\n    angleX: { type: Number, default: 20 },\n    angleY: { type: Number, default: 10 },\n    breathY: { type: Number, default: 0 },\n    animationProgress: { type: Number, default: undefined }\n  },\n  setup (props, { attrs, slots, emit, expose }) {\n    const lenis = inject(lenisInjectionKey)\n    const obj = ref()\n    const enabled = computed(() => !!lenis.instance.value)\n    const isVideo = computed(() => props.fallback.mimeType.startsWith('video'))\n\n    expose({\n      obj\n    })\n    return {\n      obj,\n      enabled,\n      isVideo\n    }\n  }\n})\n</script>\n\n<template>\n  <WebGLObject\n    v-if=\"enabled\"\n    ref=\"obj\"\n    :data=\"data\"\n    :order=\"order\"\n    :wrap=\"wrap\"\n    :angle-x=\"angleX\"\n    :angle-y=\"angleY\"\n    :breath-y=\"breathY\"\n    :animation-progress=\"animationProgress\"\n  />\n  <div v-else-if=\"fallback\">\n    <video\n      v-if=\"isVideo\"\n      class=\"absolute inset-0 w-full h-full object-cover\"\n      autoplay loop muted playsinline\n    >\n      <source :src=\"`/media/${fallback.id}`\" type=\"video/mp4\">\n    </video>\n    <MCmsImage\n      v-else\n      :data=\"fallback\"\n      cover\n      :options=\"{'max-w': 800}\"\n      disable-optimization=\"gif\"\n    />\n  </div>\n</template>\n"],"names":["_sfc_main","defineComponent","MCmsImage","WebGLObject","props","attrs","slots","emit","expose","lenis","inject","lenisInjectionKey","obj","ref","enabled","computed","isVideo","_hoisted_1","_hoisted_2","_component_MCmsImage","_resolveComponent","_ctx","_openBlock","_createBlock","_component_WebGLObject","wrap","angleX","angleY","breathY","fallback","_createElementBlock","_createElementVNode","_hoisted_3","_createCommentVNode"],"mappings":"0MAQA,MAAAA,EAAeC,EAAgB,CAC7B,KAAM,cACN,WAAY,CACV,UAAAC,EACA,YAAAC,CACF,EACA,MAAO,CACL,KAAM,CAAE,KAAM,OAA2C,SAAU,EAAK,EACxE,SAAU,CAAE,KAAM,OAA+B,SAAU,EAAK,EAChE,MAAO,CAAE,KAAM,OAAQ,QAAS,CAAE,EAClC,KAAM,CAAE,KAAM,QAAS,QAAS,EAAM,EACtC,OAAQ,CAAE,KAAM,OAAQ,QAAS,EAAG,EACpC,OAAQ,CAAE,KAAM,OAAQ,QAAS,EAAG,EACpC,QAAS,CAAE,KAAM,OAAQ,QAAS,CAAE,EACpC,kBAAmB,CAAE,KAAM,OAAQ,QAAS,MAAU,CACxD,EACA,MAAOC,EAAO,CAAE,MAAAC,EAAO,MAAAC,EAAO,KAAAC,EAAM,OAAAC,GAAU,CACtC,MAAAC,EAAQC,EAAOC,CAAiB,EAChCC,EAAMC,IACNC,EAAUC,EAAS,IAAM,CAAC,CAACN,EAAM,SAAS,KAAK,EAC/CO,EAAUD,EAAS,IAAMX,EAAM,SAAS,SAAS,WAAW,OAAO,CAAC,EAEnE,OAAAI,EAAA,CACL,IAAAI,CAAA,CACD,EACM,CACL,IAAAA,EACA,QAAAE,EACA,QAAAE,CAAA,CAEJ,CACF,CAAC,EAvCDC,EAAA,CAAA,IAAA,GAyDMC,EAAM,CACN,IAAA,EAAS,MAAA,8CAAK,SAAK,GAAC,KAAA,GAAA,MAAA,8EAdTC,EAAAC,EAAA,WAAA,SA5CjBC,EA6Ca,SAAAC,EAAA,EAAAC,EAAAC,EAAA,CACR,IAAI,EACJ,IAAK,MACL,KAAMC,EAAAA,KACN,MAASC,EAAAA,MACT,KAASC,EAAAA,KACT,UAAQN,EAAEO,OACV,UAAAP,EAAA,OAAA,WAAAA,EAAA,QAEaQ,qBAAQR,EAAA,iBAAA,EAAA,KAAA,EAAA,CAAA,OAAxB,QAeM,OAAA,UArER,UAwDYL,WAAAA,oBAAAA,CAAAA,GAAAA,EAAAA,UAAAA,EAAAA,EAAAA,EADR,MAMQC,EANR,CAAAI,EAKE,aAAmCS,EAAA,QAAAZ,EAAA,CAAoBa,EAAA,SAAA,CA5D7D,IAAA,UAAA,OAAAV,EAAA,SAAA,IAAA,KAAA,WA8DI,EAAA,KAAA,EAAAW,CAAA,CAAA,CAAA,IAAAV,EAAA,EAEiBC,EAAAJ,EAAA,CACf,IAAK,EACJ,KAASE,EAAA,SACV,MAAA,GAAA,QAAA,CAAA,QAAA,GAAA,8BAnEN,EAAA,KAAA,EAAA,CAAA,MAAA,CAAA,EAAA,CAAA,GAAAY,EAAA,GAAA,EAAA"}