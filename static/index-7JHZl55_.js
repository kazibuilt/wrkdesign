import{p as lr,m as H,a as Ae,s as Oe,c as De,f as W,e as X,b as Je,v as pe,d as U,g as vr,h as dr,r as fr,i as ur,j as pr,k as yr}from"./main-biu6-4ID.js";import"./app-4ccm2Cjh.js";function cr(e){var r=e.forward;return function(t){return lr(t,r)}}var mr=function(){return cr}(),hr="\nhttps://bit.ly/2XbVrpR#";function ye(e,r,t){if(!e){var a=r||"Minfied Error #"+t+"\n",i=new Error(a+hr+t);throw i.name="Graphcache Error",i}}var gr={},ce=e=>e._directives||gr,I=e=>e.name.value,Ie=e=>e.typeCondition.name.value,Fe=e=>e.alias?e.alias.value:e.name.value,kr=[],M=e=>e.selectionSet?e.selectionSet.selections:kr,Qe=e=>e.typeCondition?e.typeCondition.name.value:null,me=(e,r)=>{var t=null;if(e.arguments)for(var a=0,i=e.arguments.length;a<i;a++){var n=e.arguments[a],s=pe(n.value,r);s!=null&&(t||(t={}),t[I(n)]=s)}return t},_r=(e,r)=>{if(!(!r||!e.variableDefinitions)){for(var t={},a=0,i=e.variableDefinitions.length;a<i;a++){var n=I(e.variableDefinitions[a].variable);t[n]=r[n]}return t}},Ue=(e,r)=>{var t={};if(!r)return t;if(e.variableDefinitions)for(var a=0,i=e.variableDefinitions.length;a<i;a++){var n=e.variableDefinitions[a],s=I(n.variable);t[s]=r[s]===void 0&&n.defaultValue?pe(n.defaultValue,r):r[s]}for(var o in r)o in t||(t[o]=r[o]);return t};function Te(e){for(var r=0;r<e.definitions.length;r++)if(e.definitions[r].kind===X.OPERATION_DEFINITION)return e.definitions[r];ye(!1,"",1)}var oe=e=>{for(var r={},t=0;t<e.definitions.length;t++){var a=e.definitions[t];a.kind===X.FRAGMENT_DEFINITION&&(r[I(a)]=a)}return r},Or=(e,r)=>{var t=ce(e);if(t.include||t.skip)for(var a in t){var i=t[a];if(i&&(a==="include"||a==="skip")&&i.arguments&&i.arguments[0]&&I(i.arguments[0])==="if"){var n=pe(i.arguments[0].value,r);return a==="include"?!!n:!n}}return!0},wr=(e,r)=>{var{defer:t}=ce(e);if(t){for(var a of t.arguments||[])if(I(a)==="if")return!!pe(a.value,r);return!0}return!1},Nr=e=>{var{optional:r,required:t}=ce(e);if(t)return!1;if(r)return!0},Le="__",Re=(e,r,t,a)=>{var i=ze(e,r,t);return!!i&&i.type.kind!=="NON_NULL"},Be=(e,r,t,a)=>{var i=ze(e,r,t);if(!i)return!1;var n=i.type.kind==="NON_NULL"?i.type.ofType:i.type;return n.kind==="LIST"&&n.ofType.kind!=="NON_NULL"},br=(e,r,t)=>{if(!t)return!1;var a=Qe(r);return!a||t===a?!0:e.types.has(a)&&e.types.get(a).kind==="OBJECT"?a===t:(function(n,s){ye(n.types.has(s)&&(n.types.get(s).kind==="INTERFACE"||n.types.get(s).kind==="UNION"),"",5)}(e,a),Ge(e,t),e.isSubType(a,t))},ze=(e,r,t,a)=>{if(!(t.indexOf(Le)===0||r.indexOf(Le)===0)){Ge(e,r);var i=e.types.get(r).fields()[t];return i}};function Ge(e,r){ye(e.types.has(r)&&e.types.get(r).kind==="OBJECT","",3)}var J=(e,r)=>r?"".concat(e,"(").concat(Oe(r),")"):e,ee=(e,r)=>"".concat(e,".").concat(r),xr=e=>{var r=e.indexOf("(");return r>-1?{fieldKey:e,fieldName:e.slice(0,r),arguments:JSON.parse(e.slice(r+1,-1))}:{fieldKey:e,fieldName:e,arguments:null}},He=e=>{var r=e.indexOf(".");return{entityKey:e.slice(0,r).replace(/%2e/g,"."),fieldKey:e.slice(r+1)}},Y=null,le=null,p=null,E=null,T=null,R=null,z=!1,P=!1;function D(e,r){var t;if(e){if(Y.has(e))return e;t=le.get(e)}return t==null&&(t=r?[]:{}),e&&le.set(e,t),Y.add(t),t}var _e=e=>!!e&&Y.has(e),j=(e,r,t,a,i)=>{Y=new WeakSet,le=new WeakMap,T=e,p=r,R=new Set,P=!!a,z=!!i,t?T==="read"?E=t:a||r.hydrating||r.optimisticOrder.length>1?(!a&&!r.commutativeKeys.has(t)?ie(r,t):a&&(r.optimisticOrder.indexOf(t)!==-1&&!r.commutativeKeys.has(t)&&r.optimisticOrder.splice(r.optimisticOrder.indexOf(t),1),r.commutativeKeys.delete(t)),E=t,Er(r,t)):(E=null,er(r,t)):E=null},V=()=>{var e=p,r=E;if(P=!1,E=null,!e.hydrating&&r&&e.optimisticOrder.indexOf(r)>-1)for(var t=e.optimisticOrder.length;--t>=0&&e.dirtyKeys.has(e.optimisticOrder[t])&&e.commutativeKeys.has(e.optimisticOrder[t]);)Fr(e.optimisticOrder[t]);Y=null,le=null,T=null,p=null,R=null,!e.defer&&(e.storage||!e.optimisticOrder.length)&&(e.defer=!0,setTimeout(()=>{j("read",e,null),Sr(),Tr(),V(),e.defer=!1}))},$e=(e,r,t)=>{r&&!t&&e.deferredKeys.delete(r),j("write",e,r,t),V()},We=new Set,Xe=(e,r,t,a)=>{var i=E?e.optimistic.get(E):e.base,n=i.get(r);n===void 0&&i.set(r,n=Object.create(null)),a===void 0&&!E?delete n[t]:n[t]=a},he=(e,r,t)=>{for(var a,i=!P&&T==="read"&&E&&p.commutativeKeys.has(E),n=0,s=p.optimisticOrder.length;n<s;n++){var o=p.optimisticOrder[n],v=e.optimistic.get(o);if(i=i&&o!==E,v&&(!i||!p.commutativeKeys.has(o))&&(!P||T==="write"||p.commutativeKeys.has(o))&&(a=v.get(r))!==void 0&&t in a)return a[t]}return(a=e.base.get(r))!==void 0?a[t]:void 0};function ve(e){return p.refCount.get(e)||0}var de=(e,r)=>{if(Array.isArray(e))for(var t=0,a=e.length;t<a;t++)de(e[t],r);else typeof e=="string"&&((i,n)=>{var s=ve(i),o=s+n>0?s+n:0;p.refCount.set(i,o),o?!s&&o&&p.gc.delete(i):p.gc.add(i)})(e,r)},Pe=(e,r,t)=>{if(t!==void 0)for(var a in t)r.has(a)||(e.push(xr(a)),r.add(a))},je=(e,r,t,a)=>{Pe(e,r,a.base.get(t));for(var i=0,n=p.optimisticOrder.length;i<n;i++){var s=a.optimistic.get(p.optimisticOrder[i]);s!==void 0&&Pe(e,r,s.get(t))}},Sr=()=>{if(!p.optimisticOrder.length){for(var e of p.gc.keys())if(p.gc.delete(e),!(ve(e)>0)){var r=p.records.base.get(e);p.refCount.delete(e),p.records.base.delete(e);var t=r&&r.__typename;if(t){var a=p.types.get(t);a&&a.delete(e)}var i=p.links.base.get(e);if(i){p.links.base.delete(e);for(var n in i)de(i[n],-1)}}}},re=(e,r)=>{e!==p.queryRootKey?R.add(e):r!==void 0&&r!=="__typename"&&R.add(ee(e,r))},Ye=(e,r)=>{!P&&p.storage&&p.persist.add(((t,a)=>"".concat(t.replace(/\./g,"%2e"),".").concat(a))(e,r))},$=(e,r)=>(T==="read"&&re(e,r),he(p.records,e,r)),Q=(e,r)=>(T==="read"&&re(e,r),he(p.links,e,r)),Kr=(e,r)=>{var t=p.abstractToConcreteMap.get(e);if(t)t.add(r);else{var a=new Set;a.add(r),p.abstractToConcreteMap.set(e,a)}},Z=(e,r,t)=>{tr(he(p.records,e,r),t)||(re(e,r),Ye(e,r)),Xe(p.records,e,r,t)},qr=(e,r)=>$(e,r)!==void 0||Q(e,r)!==void 0,te=(e,r,t)=>{var a=E?p.links.optimistic.get(E):p.links.base;if(!E){var i=a&&a.get(e);de(i&&i[r],-1),de(t,1)}tr(he(p.links,e,r),t)||(re(e,r),Ye(e,r)),Xe(p.links,e,r,t)},ie=(e,r,t)=>{var a=e.optimisticOrder.indexOf(r);if(a>-1&&e.optimisticOrder.splice(a,1),t)for(e.deferredKeys.add(r),a=a>-1?a:0;a<e.optimisticOrder.length&&!e.deferredKeys.has(e.optimisticOrder[a])&&(!e.dirtyKeys.has(e.optimisticOrder[a])||!e.commutativeKeys.has(e.optimisticOrder[a]));a++);else e.deferredKeys.delete(r),a>-1&&!e.commutativeKeys.has(r)&&Ze(e,r),a=0;e.optimisticOrder.splice(a,0,r),e.commutativeKeys.add(r)},Er=(e,r)=>{e.optimisticOrder.indexOf(r)===-1&&e.optimisticOrder.unshift(r),e.dirtyKeys.has(r)||(e.dirtyKeys.add(r),e.links.optimistic.set(r,new Map),e.records.optimistic.set(r,new Map))},Ze=(e,r)=>{e.dirtyKeys.has(r)&&(e.dirtyKeys.delete(r),e.records.optimistic.delete(r),e.links.optimistic.delete(r),e.deferredKeys.delete(r))},er=(e,r)=>{var t=e.optimisticOrder.indexOf(r);t>-1&&(e.optimisticOrder.splice(t,1),e.commutativeKeys.delete(r)),Ze(e,r)},Fr=e=>{var r=R;R=new Set,T="write";var t=p.links.optimistic.get(e);if(t)for(var a of t.entries()){var i=a[0],n=a[1];for(var s in n)te(i,s,n[s])}var o=p.records.optimistic.get(e);if(o)for(var v of o.entries()){var f=v[0],d=v[1];for(var y in d)Z(f,y,d[y])}R=r,er(p,e)},rr=e=>{var{links:r,records:t}=p,a=[],i=new Set;return re(e),je(a,i,e,r),je(a,i,e,t),a},Tr=()=>{if(p.storage){P=!0,T="read";var e={};for(var r of p.persist.keys()){var{entityKey:t,fieldKey:a}=He(r),i=void 0;(i=Q(t,a))!==void 0?e[r]=":".concat(Oe(i)):(i=$(t,a))!==void 0?e[r]=Oe(i):e[r]=void 0}P=!1,p.storage.writeData(e),p.persist.clear()}};function tr(e,r){return typeof e!=typeof r||e!==r?!1:Array.isArray(e)&&Array.isArray(r)?e.length!==r.length?!1:!e.some((t,a)=>t!==r[a]):!0}var ne=null,fe=!1,we=void 0,ge=e=>e.__internal.path.length>0&&e.__internal.errorMap?e.__internal.errorMap[e.__internal.path.join(".")]:void 0,ue=(e,r,t,a,i,n)=>{var s={store:e,variables:r,fragments:t,parent:{__typename:a},parentTypeName:a,parentKey:i,parentFieldKey:"",fieldName:"",error:void 0,partial:!1,hasNext:!1,optimistic:P,__internal:{path:[],errorMap:void 0}};if(n&&n.graphQLErrors)for(var o=0;o<n.graphQLErrors.length;o++){var v=n.graphQLErrors[o];v.path&&v.path.length&&(s.__internal.errorMap||(s.__internal.errorMap=Object.create(null)),s.__internal.errorMap[v.path.join(".")]=v)}return s},Ne=(e,r,t,a,i,n)=>{ne=e,e.parent=r,e.parentTypeName=t,e.parentKey=a,e.parentFieldKey=i,e.fieldName=n,e.error=ge(e)},Mr=(e,r,t,a,i)=>{if(!r)return!1;var n=Qe(e);return!n||r===n?!0:!M(e).some(s=>{if(s.kind!==X.FIELD)return!1;var o=J(I(s),me(s,a));return!qr(t,o)})};function ke(e,r,t,a,i,n){var s,o=0;return function(){for(var f;s||o<i.length;)if(f=void 0,fe=t,we=a,s){if(f=s())return f;s=void 0}else{var d=i[o++];if(Or(d,n.variables)){if(d.kind!==X.FIELD){var y=d.kind!==X.INLINE_FRAGMENT?n.fragments[I(d)]:d;if(y){var h=!y.typeCondition||(n.store.schema?br(n.store.schema,y,e):T==="read"&&Cr(y.typeCondition.name.value,e)||Mr(y,e,r,n.variables,n.store.logger));if(h||T==="write"&&!n.store.schema){var c=Nr(d);h&&y.typeCondition&&e!==y.typeCondition.name.value&&Kr(y.typeCondition.name.value,e),s=ke(e,r,t||wr(d,n.variables),c!==void 0?c:a,M(y),n)}}}else if(T==="write"||!d._generated)return d}}}}var Cr=(e,r)=>{if(!r)return!1;if(e===r)return!0;var t=!(i=>p.types.has(i))(e);if(!t)return!1;var a=(i=>p.abstractToConcreteMap.get(i)||We)(e);return a.size&&a.has(r)},se=e=>e==null?null:e,be=(e,r)=>{if(r){if(Array.isArray(r)){for(var t=new Array(r.length),a=0,i=t.length;a<i;a++)t[a]=be(e,r[a]);return t}}else return r||null;var n=e.keyOfEntity(r);return n},xe=(e,r,t,a)=>{var i=W(r.query),n=Te(i),s=e.rootFields[n.operation],o=M(n),v=ue(e,Ue(n,r.variables),oe(i),s,s,a),f=s!==v.store.rootFields.query?ar(v,s,o,t||D()):B(v,s,o,t||D());return{dependencies:R,partial:v.partial||!f,hasNext:v.hasNext,data:f||null}},ar=(e,r,t,a)=>{if(typeof(e.store.rootNames[r]?r:a.__typename)!="string")return a;for(var i=ke(r,r,!1,void 0,t,e),n,s=z,o=D(a);n=i();){var v=Fe(n),f=a[v];e.__internal.path.push(v);var d=void 0;n.selectionSet&&f!==null?d=ir(e,M(n),se(f)):d=f,s=s||d!==f,d!==void 0&&(o[v]=d),e.__internal.path.pop()}return s?o:a},ir=(e,r,t)=>{if(Array.isArray(t)){for(var a=new Array(t.length),i=z,n=0,s=t.length;n<s;n++)e.__internal.path.push(n),a[n]=ir(e,r,t[n]),i=i||a[n]!==t[n],e.__internal.path.pop();return i?a:t}else if(t===null)return null;var o=e.store.keyOfEntity(t);return o!==null?B(e,o,r,t)||null:ar(e,t.__typename,r,t)};function Ar(e,r,t,a){var i=a.store.resolvers[r],n=i&&i[t],s;for(var o in e){var v=e[o];if(v&&o!=="include"&&o!=="skip"&&a.store.directives[o])return s=a.store.directives[o](me(v,a.variables)),s}return s||n}var B=(e,r,t,a,i)=>{var{store:n}=e,s=r===n.rootFields.query,o=i&&n.keyOfEntity(i)||r,v=s?r:$(o,"__typename")||i&&i.__typename;if(typeof v=="string"&&!(i&&v!==i.__typename)){for(var f=ke(v,o,!1,void 0,t,e),d=!1,y=!1,h=z,c,k=e.partial,m=D(a);(c=f())!==void 0;){var w=I(c),S=me(c,e.variables),x=Fe(c),L=ce(c),C=Ar(L,v,w,e),l=J(w,S),O=ee(o,l),g=$(o,l),N=i?i[w]:void 0;e.__internal.path.push(x);var _=void 0;if(w==="__typename")_=v;else if(N!==void 0&&c.selectionSet===void 0)_=N;else if(T==="read"&&C){var b=m;if(c.selectionSet===void 0&&g!==void 0&&(b={...m,[x]:g,[w]:g}),Ne(e,b,v,o,l,w),_=C(b,S||{},n,e),c.selectionSet&&(_=Se(e,v,w,O,M(c),m[x]!==void 0?m[x]:a[x],_,_e(a))),n.schema&&_===null&&!Re(n.schema,v,w,e.store.logger))return}else if(!c.selectionSet)_=g;else if(N!==void 0)_=Se(e,v,w,O,M(c),m[x]!==void 0?m[x]:a[x],N,_e(a));else{var K=Q(o,l);K!==void 0?_=nr(e,K,v,w,M(c),m[x]!==void 0?m[x]:a[x],_e(a)):typeof g=="object"&&g!==null&&(_=g)}if(!fe&&_===void 0&&(L.optional||we&&!L.required||ge(e)||n.schema&&Re(n.schema,v,w,e.store.logger))?(e.partial=!0,_=null):_===null&&(L.required||we===!1)?(e.store.logger,_=void 0):d=d||w!=="__typename",e.__internal.path.pop(),h=h||_!==a[x],_!==void 0)m[x]=_;else if(fe)y=!0;else{e.store.logger,e.partial=k;return}}return e.partial=e.partial||k,e.hasNext=e.hasNext||y,s&&e.partial&&!d?void 0:h?m:a}},Se=(e,r,t,a,i,n,s,o)=>{if(Array.isArray(s)){for(var{store:v}=e,f=v.schema?Be(v.schema,r,t,e.store.logger):!1,d=e.partial,y=D(n,!0),h=z||!Array.isArray(n)||s.length!==n.length,c=0,k=s.length;c<k;c++){e.__internal.path.push(c);var m=Se(e,r,t,ee(a,"".concat(c)),i,n!=null?n[c]:void 0,s[c],o);if(e.__internal.path.pop(),m===void 0&&!f){e.partial=d;return}else e.partial=e.partial||m===void 0&&f,y[c]=m!=null?m:null,h=h||y[c]!==n[c]}return h?y:n}else{if(s==null)return s;if(o&&n===null)return null;if(Dr(s)){var w=n||D(n);return typeof s=="string"?B(e,s,i,w):B(e,a,i,w,s)}else return}},nr=(e,r,t,a,i,n,s)=>{if(Array.isArray(r)){for(var{store:o}=e,v=o.schema?Be(o.schema,t,a,e.store.logger):!1,f=D(n,!0),d=e.partial,y=z||!Array.isArray(n)||r.length!==n.length,h=0,c=r.length;h<c;h++){e.__internal.path.push(h);var k=nr(e,r[h],t,a,i,n!=null?n[h]:void 0,s);if(e.__internal.path.pop(),k===void 0&&!v){e.partial=d;return}else e.partial=e.partial||k===void 0&&v,f[h]=k||null,y=y||f[h]!==n[h]}return y?f:n}else if(r===null||n===null&&s)return null;return B(e,r,i,n||D(n))},Dr=e=>typeof e=="string"||typeof e=="object"&&typeof e.__typename=="string",sr=(e,r,t)=>{for(var a=r?[{fieldKey:J(r,t)}]:rr(e),i=0,n=a.length;i<n;i++){var{fieldKey:s}=a[i];Q(e,s)!==void 0?te(e,s,void 0):Z(e,s,void 0)}},Ke=(e,r)=>{var t=(i=>p.types.get(i)||We)(e);for(var a of t)r.includes(a)||sr(a)},qe=(e,r,t,a)=>{var i=W(r.query),n=Te(i),s={data:t||D(),dependencies:R},o=e.rootFields[n.operation],v=ue(e,Ue(n,r.variables),oe(i),o,o,a);return Me(v,o,M(n),s.data),s},Me=(e,r,t,a)=>{var i=e.store.rootNames[r]||"query",n=!!e.store.rootNames[r],s=n?r:a.__typename;if(!s&&r&&e.optimistic&&(s=$(r,"__typename")),s)!n&&r&&(Z(r,"__typename",s),((F,u)=>{var q=p.types.get(F);if(q)q.add(u);else{var A=new Set;A.add(u),p.types.set(F,A)}})(s,r));else return;for(var o=e.store.updates[s],v=ke(s,r||s,!1,void 0,t,e),f;f=v();){var d=I(f),y=me(f,e.variables),h=J(d,y),c=Fe(f),k=a[e.optimistic?d:c];if(!(d==="__typename"||k===void 0&&(fe||e.optimistic&&i==="query"))){e.__internal.path.push(c);var m=void 0;if(e.optimistic&&i==="mutation"){if(!(m=e.store.optimisticMutations[d]))continue}else e.optimistic&&typeof k=="function"&&(m=k);if(m&&(Ne(e,a,s,r||s,h,d),k=se(m(y||{},e.store,e))),k!==void 0){if(f.selectionSet)if(r&&i==="query"){var w=ee(r,h),S=Ee(e,M(f),se(k),w,e.optimistic?Q(r||s,h):void 0);te(r||s,h,S)}else Ee(e,M(f),se(k));else r&&i==="query"&&Z(r||s,h,k!==null||!ge(e)?k:void 0);var x=o&&o[d];if(x)Ne(e,a,s,r||s,h,d),a[d]=k,x(a,y||{},e.store,e);else if(s===e.store.rootFields.mutation&&!e.optimistic){if(k&&Array.isArray(k))for(var L=k.map(F=>e.store.keyOfEntity(F)||""),C=0,l=k.length;C<l;C++){var O=L[C];if(O&&k[C].__typename){var g=$(O,"__typename"),N=ve(O);g&&!N&&Ke(k[C].__typename,L)}}else if(k&&typeof k=="object"){var _=e.store.keyOfEntity(k);if(_){var b=$(_,"__typename"),K=ve(_);(!b||!K)&&k.__typename&&Ke(k.__typename,[_])}}}e.__internal.path.pop()}}}},Ee=(e,r,t,a,i)=>{if(Array.isArray(t)){for(var n=new Array(t.length),s=0,o=t.length;s<o;s++){e.__internal.path.push(s);var v=a?ee(a,"".concat(s)):void 0,f=Ee(e,r,t[s],v,i!=null?i[s]:void 0);n[s]=f,e.__internal.path.pop()}return n}else if(t===null)return ge(e)?void 0:null;var d=e.store.keyOfEntity(t)||(typeof i=="string"?i:null);t.__typename;var y=d||a;return Me(e,y,r,t),y||null};class Ir{constructor(r){r||(r={}),this.logger=r.logger,this.resolvers=r.resolvers||{},this.directives=r.directives||{},this.optimisticMutations=r.optimistic||{},this.keys=r.keys||{},this.globalIDs=Array.isArray(r.globalIDs)?new Set(r.globalIDs):!!r.globalIDs;var t="Query",a="Mutation",i="Subscription";if(r.schema){var n=(({__schema:o})=>{var v=new Map,f=m=>{var w;return()=>{if(!w){w={};for(var S=0;S<m.length;S++)w[m[S].name]=m[S]}return w}},d=m=>{switch(m.kind){case"OBJECT":case"INTERFACE":return{name:m.name,kind:m.kind,interfaces:f(m.interfaces||[]),fields:f(m.fields.map(w=>({name:w.name,type:w.type,args:f(w.args)})))};case"UNION":return{name:m.name,kind:m.kind,types:f(m.possibleTypes||[])}}},y={query:o.queryType?o.queryType.name:null,mutation:o.mutationType?o.mutationType.name:null,subscription:o.subscriptionType?o.subscriptionType.name:null,types:void 0,isSubType(m,w){var S=v.get(m),x=v.get(w);return!S||!x?!1:S.kind==="UNION"?!!S.types()[w]:S.kind!=="OBJECT"&&x.kind==="OBJECT"?!!x.interfaces()[m]:m===w}};if(o.types){y.types=v;for(var h=0;h<o.types.length;h++){var c=o.types[h];if(c&&c.name){var k=d(c);k&&v.set(c.name,k)}}}return y})(r.schema);t=n.query||t,a=n.mutation||a,i=n.subscription||i,n.types&&(this.schema=n)}this.updates=r.updates||{},this.rootFields={query:t,mutation:a,subscription:i},this.rootNames={[t]:"query",[a]:"mutation",[i]:"subscription"},this.data=(s=t,{hydrating:!1,defer:!1,gc:new Set,types:new Map,persist:new Set,queryRootKey:s,refCount:new Map,links:{optimistic:new Map,base:new Map},abstractToConcreteMap:new Map,records:{optimistic:new Map,base:new Map},deferredKeys:new Set,commutativeKeys:new Set,dirtyKeys:new Set,optimisticOrder:[],storage:null});var s;this.schema}keyOfField(r,t){return J(r,t)}keyOfEntity(r){if(ne&&r===ne.parent)return ne.parentKey;if(r==null||typeof r=="string")return r||null;if(r.__typename){if(this.rootNames[r.__typename])return r.__typename}else return null;var t=null;this.keys[r.__typename]?t=this.keys[r.__typename](r)||null:r.id!=null?t="".concat(r.id):r._id!=null&&(t="".concat(r._id));var a=r.__typename;return this.globalIDs===!0||this.globalIDs&&this.globalIDs.has(a)||!t?t:"".concat(a,":").concat(t)}resolve(r,t,a){var i=this.keyOfEntity(r);if(i){var n=J(t,a),s=$(i,n);if(s!==void 0)return s;var o=Q(i,n);return o!==void 0&&(o=be(this,o)),o}}invalidate(r,t,a){var i=this.keyOfEntity(r);r&&typeof r=="string"&&!t&&!a&&!this.resolve(r,"__typename")?Ke(r,[]):(ye(i,"",19),sr(i,t,a))}inspectFields(r){var t=this.keyOfEntity(r);return t?rr(t):[]}updateQuery(r,t){var a=De(r.query,r.variables),i=t(this.readQuery(a));i!==null&&qe(this,a,i,void 0)}readQuery(r){var t=De(r.query,r.variables);return xe(this,t,void 0,void 0).data}readFragment(r,t,a,i){return((n,s,o,v,f)=>{var d=oe(s),y;if(f){if(!(y=d[f]))return null}else if(!(y=d[Object.keys(d)[0]]))return null;var h=Ie(y);typeof o!="string"&&!o.__typename&&(o.__typename=h);var c=n.keyOfEntity(o);if(!c)return null;var k=ue(n,v||{},d,h,c,void 0),m=B(k,c,M(y),D())||null;return m})(this,W(r),t,a,i)}writeFragment(r,t,a,i){((n,s,o,v,f)=>{var d=oe(s),y;if(f){if(!(y=d[f]))return null}else if(!(y=d[Object.keys(d)[0]]))return null;var h=Ie(y),c={__typename:h,...o},k=n.keyOfEntity(c);if(k){var m=ue(n,v||{},d,h,k,void 0);Me(m,k,M(y),c)}})(this,W(r),t,a,i)}link(r,t,...a){var i=a.length===2?a[0]:null,n=a.length===2?a[1]:a[0],s=this.keyOfEntity(r);s&&te(s,J(t,i),be(this,n))}}var Ve=(e,r)=>Je(e.kind,e,{...e.context,requestPolicy:r}),Lr=e=>({forward:r,client:t,dispatchDebug:a})=>{var i=new Ir(e);e&&e.storage&&(i.data.hydrating=!0,e.storage.readData().then(l=>{((O,g,N)=>{j("write",O,null);for(var _ in N){var b=N[_];if(b!==void 0){var{entityKey:K,fieldKey:F}=He(_);b[0]===":"?Q(K,F)===void 0&&te(K,F,JSON.parse(b.slice(1))):$(K,F)===void 0&&Z(K,F,JSON.parse(b))}}O.storage=g,O.hydrating=!1,V()})(i.data,e.storage,l),e.storage.onCacheHydrated&&e.storage.onCacheHydrated()}));var n=new Map,s=[],o=new Map,v=new Map,f=new Set,d=new Set,y=new Map,h=new Set,c=new Set,k=l=>{for(var O of l.values())if(f.has(O))return!0;return!1},m=(l,O)=>{if(O)for(var g of O.values()){var N=y.get(g);if(N)for(var _ of N.values())l.add(_)}},w=(l,O,g)=>{for(var N of O.values())if(N!==l.key){var _=o.get(N);if(_){l.kind==="query"&&c.add(N);var b="cache-first";d.has(N)&&(d.delete(N),b="cache-and-network"),t.reexecuteOperation(Ve(_,b))}}if(!g){var K=h;l.kind==="query"&&(h=c).add(l.key),(c=K).clear()}},S=l=>{var O=!1;if(l.kind==="query")ie(i.data,l.key),o.set(l.key,l);else{if(l.kind==="teardown")return o.delete(l.key),v.delete(l.key),h.delete(l.key),$e(i.data,l.key),l;if(l.kind==="mutation"&&l.context.requestPolicy!=="network-only"){o.set(l.key,l),j("write",i.data,l.key,!0,!1);var{dependencies:g}=qe(i,l,void 0,void 0);if(V(),g.size){for(var N of g.values())f.add(N);n.set(l.key,g);var _=new Set;m(_,g),w(l,_,!0),O=!0}}}return Je(l.kind,{key:l.key,query:W(l.query),variables:l.variables?_r(Te(l.query),l.variables):l.variables},{...l.context,optimistic:O})},x=(l,O)=>{for(var g of O.values()){var N=y.get(g);N||y.set(g,N=new Set),N.add(l.key)}},L=l=>{j("read",i.data,void 0,!1,!1);var O=xe(i,l,v.get(l.key),void 0);V();var g=O.data?!O.partial&&!O.hasNext?"hit":"partial":"miss";return v.set(l.key,O.data),o.set(l.key,l),x(l,O.dependencies),{outcome:g,operation:l,data:O.data,dependencies:O.dependencies,hasNext:O.hasNext}},C=(l,O)=>{var g=o.get(l.operation.key)||l.operation;if(g.kind==="mutation"){var N=n.get(g.key);m(O,N),n.delete(g.key)}(g.kind==="subscription"||l.hasNext)&&ie(i.data,g.key,!0);var _,b=l.data;if(b){j("write",i.data,g.key,!1,!1);var K=qe(i,g,b,l.error).dependencies;V(),m(O,K);var F=g.kind==="query"?v.get(g.key):null;j("read",i.data,g.key,!1,F!==b);var u=xe(i,g,F||b,l.error);V(),b=u.data,g.kind==="query"&&(m(O,_=u.dependencies),v.set(g.key,b))}else $e(i.data,g.key);return _&&x(l.operation,_),{operation:g,data:b,error:l.error,extensions:l.extensions,hasNext:l.hasNext,stale:l.stale}};return l=>{var O=ur(H(L)(U(u=>u.kind==="query"&&u.context.requestPolicy!=="network-only")(l))),g=U(u=>u.kind!=="query"||u.context.requestPolicy==="network-only")(l),N=H(u=>u.operation)(U(u=>u.outcome==="miss"&&u.operation.context.requestPolicy!=="cache-only"&&!k(u.dependencies)&&!h.has(u.operation.key))(O)),_=H(u=>{var{requestPolicy:q}=u.operation.context,A=q!=="cache-only"&&(u.hasNext||q==="cache-and-network"||q==="cache-first"&&u.outcome==="partial"&&!h.has(u.operation.key)),ae=q!=="cache-only"&&(A||u.outcome==="partial"&&h.has(u.operation.key)&&((G=i.data).commutativeKeys.has(Ce=u.operation.key)||G.optimisticOrder.indexOf(Ce)>-1)),G,Ce,or={operation:u.operation,data:u.data,error:u.error,extensions:u.extensions,stale:ae&&!u.hasNext,hasNext:A&&u.hasNext};return A&&(k(u.dependencies)?q==="cache-and-network"&&d.add(u.operation.key):t.reexecuteOperation(Ve(o.get(u.operation.key)||u.operation,"network-only"))),or})(U(u=>u.outcome!=="miss"||u.operation.context.requestPolicy==="cache-only")(O)),b=r(H(S)(Ae([g,N]))),K=H(u=>{var q=new Set,A=C(u,q);return w(u.operation,q,!1),A})(U(u=>!n.has(u.operation.key))(b)),F=vr(u=>{if(s.push(u)<n.size)return dr;for(var q=0;q<s.length;q++)ie(i.data,s[q].operation.key);f.clear();for(var A=[],ae=new Set,G;G=s.shift();)A.push(C(G,ae));return w(u.operation,ae,!1),fr(A)})(U(u=>n.has(u.operation.key))(b));return Ae([K,F,_])}};/*!
 * @monogrid/vue-boost v8.2.0-develop.3 Copyright (C) MONOGRID S.R.L. - All Rights Reserved - Unauthorized copying of this file, via any medium is strictly prohibited
 */const Rr={updates:{Mutation:{}},resolvers:{Query:{}},keys:{}},jr=e=>{const r=e==null?void 0:e.endpoint;if(!r)throw new Error("Invalid GraphQL endpoint! Please provide an endpoint");const t={url:r,exchanges:[mr,...e.customExchanges||[],Lr((e==null?void 0:e.cache)||Rr),pr]};return{urql:yr,client:t}};export{Rr as cacheConfig,jr as provideClient};
//# sourceMappingURL=index-7JHZl55_.js.map
