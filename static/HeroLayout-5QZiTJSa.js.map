{"version":3,"file":"HeroLayout-5QZiTJSa.js","sources":["../../src/components/atoms/HeroLayout.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { templateRef } from '@vueuse/core'\nimport { gsap } from 'gsap'\nimport { defineComponent, onMounted, onUnmounted, ref, shallowRef, watch } from 'vue'\n\nexport default defineComponent({\n  name: 'HeroLayout',\n  emits: ['progress'],\n  setup (props, { emit, expose }) {\n    const wrapper = templateRef<HTMLElement>('wrapper')\n    const progress = ref(0)\n    const tl = shallowRef<gsap.core.Timeline>()\n\n    onMounted(() => {\n      tl.value = gsap.timeline({\n        scrollTrigger: {\n          trigger: wrapper.value,\n          start: 'top top',\n          end: '+=100%',\n          scrub: true\n        }\n      })\n\n      tl.value.fromTo(progress, { value: 1 }, { value: 2, ease: 'none', duration: 0.3 }, '<')\n    })\n\n    watch(progress, value => emit('progress', value))\n\n    onUnmounted(() => tl.value?.kill())\n\n    expose({ tl })\n\n    return {\n      progress\n    }\n  }\n})\n</script>\n\n<template>\n  <section ref=\"wrapper\" class=\"wrapper\">\n    <div class=\"content motion-safe:sticky motion-safe:top-0\">\n      <slot name=\"sticky\" :progress=\"progress\" />\n    </div>\n    <div class=\"content relative\">\n      <slot :progress=\"progress\" />\n    </div>\n  </section>\n</template>\n\n<style lang=\"scss\" scoped>\n.wrapper {\n  @include svh(200);\n}\n\n.content {\n  @include svh(100);\n\n  & + & {\n    @include svh(-100, 'margin-top');\n  }\n}\n</style>\n"],"names":["_sfc_main","defineComponent","props","emit","expose","wrapper","templateRef","progress","ref","tl","shallowRef","onMounted","gsap","watch","value","onUnmounted","_a","_hoisted_1","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_createElementVNode","_hoisted_2","_renderSlot"],"mappings":"2JAKA,MAAAA,EAAeC,EAAgB,CAC7B,KAAM,aACN,MAAO,CAAC,UAAU,EAClB,MAAOC,EAAO,CAAE,KAAAC,EAAM,OAAAC,GAAU,CACxB,MAAAC,EAAUC,EAAyB,SAAS,EAC5CC,EAAWC,EAAI,CAAC,EAChBC,EAAKC,IAEX,OAAAC,EAAU,IAAM,CACXF,EAAA,MAAQG,EAAK,SAAS,CACvB,cAAe,CACb,QAASP,EAAQ,MACjB,MAAO,UACP,IAAK,SACL,MAAO,EACT,CAAA,CACD,EAEDI,EAAG,MAAM,OAAOF,EAAU,CAAE,MAAO,GAAK,CAAE,MAAO,EAAG,KAAM,OAAQ,SAAU,EAAA,EAAO,GAAG,CAAA,CACvF,EAEDM,EAAMN,EAAUO,GAASX,EAAK,WAAYW,CAAK,CAAC,EAEhDC,EAAY,IAAA,OAAM,OAAAC,EAAAP,EAAG,QAAH,YAAAO,EAAU,OAAM,EAE3BZ,EAAA,CAAE,GAAAK,EAAI,EAEN,CACL,SAAAF,CAAA,CAEJ,CACF,CAAC,EAIwBU,EAAe,CAAA,IAAA,iHACpC,SAAAC,EAAAC,EAEMC,EAFNC,EAEMC,EAAAC,EAAAC,EAAA,QADJC,EAA2C,EAAAC,EAAtB,UAAUnB,EAAQ,CAAAoB,EAAA,MAAAC,EAAA,CAEzCC,EAEMV,EAAA,OAAA,SAAA,CAAA,SAAAA,EAAA,QAAA,EAAA,OAAA,EAAA,CAAA,CAAA"}